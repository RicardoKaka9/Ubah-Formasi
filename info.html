<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Event Info</title>
  <style>
    body { font-family: Arial; background: #111; color: #fff; text-align: center; }
    .event { background: #222; padding: 10px; border-radius: 8px; margin: 10px; }
    button { padding: 8px 16px; border: none; background: #4CAF50; color: white; border-radius: 6px; }
    input, textarea { width: 80%; padding: 8px; margin: 5px; }
  </style>
</head>
<body>
  <h2>ðŸ“… Daftar Event</h2>
  <div id="event-list"></div>

  <div id="add-section" style="display:none;">
    <h3>Tambah Event</h3>
    <input type="text" id="title" placeholder="Judul Event"><br>
    <textarea id="desc" placeholder="Deskripsi"></textarea><br>
    <button onclick="addEvent()">Tambah</button>
  </div>

<script>
  const params = new URLSearchParams(window.location.search);
  const isAdmin = params.get('admin') === 'true';
  const eventList = document.getElementById('event-list');
  const addSection = document.getElementById('add-section');
  let events = JSON.parse(localStorage.getItem('events') || '[]');

  function showEvents() {
    eventList.innerHTML = events.map((e, i) => `
      <div class='event'>
        <h4>${e.title}</h4>
        <p>${e.desc}</p>
        ${isAdmin ? `<button onclick="deleteEvent(${i})" style="background:#e53935;">Hapus</button>` : ''}
      </div>
    `).join('');
  }

  function addEvent() {
    const title = document.getElementById('title').value;
    const desc = document.getElementById('desc').value;
    if (!title || !desc) return alert('Isi semua!');
    events.unshift({ title, desc });
    localStorage.setItem('events', JSON.stringify(events));
    showEvents();
    document.getElementById('title').value = '';
    document.getElementById('desc').value = '';
  }

  function deleteEvent(index) {
    if (confirm('Yakin mau hapus event ini?')) {
      events.splice(index, 1);
      localStorage.setItem('events', JSON.stringify(events));
      showEvents();
    }
  }

  if (isAdmin) addSection.style.display = 'block';
  showEvents();
</script>
</body>
</html>
